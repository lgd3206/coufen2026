╔══════════════════════════════════════════════════════════════╗
║                                                              ║
║          🎯 芝麻分凑分网站 - 快速参考卡片                      ║
║                                                              ║
╚══════════════════════════════════════════════════════════════╝

┌──────────────────────────────────────────────────────────────┐
│ 📦 项目信息                                                   │
├──────────────────────────────────────────────────────────────┤
│ 名称: 芝麻分凑分 - 三人组队凑2026分                           │
│ 状态: ✅ 开发完成，等待部署                                    │
│ GitHub: https://github.com/lgd3206/coufen2026                │
│ 技术栈: Next.js 14 + React 18 + TypeScript + Supabase       │
└──────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────┐
│ 🚀 快速开始（3步上线）                                        │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│ 步骤 1: 配置 Supabase（10分钟）                              │
│   → 访问: https://supabase.com                               │
│   → 创建项目: coufen-2026                                    │
│   → 执行 SQL: 见 SUPABASE_SETUP.md                          │
│   → 配置 RLS: 3个策略（SELECT/INSERT/UPDATE）                │
│   → 启用 Realtime: Database > Replication                    │
│   → 获取 Keys: Project Settings > API                        │
│                                                              │
│ 步骤 2: 部署到 Vercel（5分钟）                               │
│   → 访问: https://vercel.com                                 │
│   → Import: lgd3206/coufen2026                               │
│   → 配置环境变量:                                             │
│      • NEXT_PUBLIC_SUPABASE_URL                              │
│      • NEXT_PUBLIC_SUPABASE_ANON_KEY                         │
│      • SUPABASE_SERVICE_ROLE_KEY                             │
│   → 点击 Deploy                                              │
│                                                              │
│ 步骤 3: 测试功能（3分钟）                                     │
│   → 访问你的 Vercel 域名                                      │
│   → 提交测试口令: 700分 test123                              │
│   → 检查实时大厅                                              │
│   → 完成！🎉                                                 │
│                                                              │
│ ⏰ 总时间: 15-20分钟                                          │
│ 💰 费用: 完全免费（Supabase Free + Vercel Free）             │
│                                                              │
└──────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────┐
│ 📚 文档导航                                                   │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│ 📄 README.md           → 项目说明和技术栈                     │
│ 📄 PROJECT_SUMMARY.md  → 完整项目总结（推荐先看）             │
│ 📄 QUICKSTART.md       → 快速开始指南                        │
│ 📄 DEPLOYMENT.md       → 详细部署步骤（含截图）               │
│ 📄 SUPABASE_SETUP.md   → Supabase 配置指南                   │
│ 📄 LOCAL_SETUP.md      → 本地开发环境配置                     │
│ 📄 setup.sh            → 一键配置脚本                        │
│                                                              │
└──────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────┐
│ 🎯 核心功能                                                   │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│ ✅ 智能三人匹配算法                                           │
│    → 优先匹配"组队伍"模式（duo）                              │
│    → 自动匹配两个"找队伍"模式（solo）                         │
│    → 确保三人分数相加 = 2026                                  │
│                                                              │
│ ✅ 实时大厅                                                   │
│    → Supabase Realtime 实时更新                              │
│    → 搜索功能（按分数）                                       │
│    → 筛选功能（全部/找队伍/组队伍）                           │
│                                                              │
│ ✅ 用户体验                                                   │
│    → 响应式设计（手机/平板/电脑）                             │
│    → 深色模式（自动跟随系统）                                 │
│    → 流畅动画和交互                                           │
│                                                              │
│ ✅ SEO 优化                                                   │
│    → 完整 Meta 标签                                           │
│    → Open Graph + Twitter Card                               │
│    → Sitemap + Robots.txt                                    │
│                                                              │
└──────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────┐
│ 🔧 环境变量配置                                               │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│ 需要配置的 3 个环境变量:                                       │
│                                                              │
│ NEXT_PUBLIC_SUPABASE_URL                                     │
│   → 格式: https://xxxxx.supabase.co                          │
│   → 位置: Supabase > Project Settings > API                  │
│                                                              │
│ NEXT_PUBLIC_SUPABASE_ANON_KEY                                │
│   → 格式: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...            │
│   → 位置: Supabase > Project Settings > API > anon public    │
│                                                              │
│ SUPABASE_SERVICE_ROLE_KEY                                    │
│   → 格式: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...            │
│   → 位置: Supabase > Project Settings > API > service_role   │
│   → ⚠️  保密！不要泄露                                        │
│                                                              │
└──────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────┐
│ 🐛 常见问题速查                                               │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│ Q: 本地开发看到 "未配置 Supabase 环境变量" 警告？             │
│ A: 按照 LOCAL_SETUP.md 配置真实的 Supabase                   │
│                                                              │
│ Q: WebSocket 连接失败？                                       │
│ A: 检查 NEXT_PUBLIC_SUPABASE_URL 是否正确                    │
│                                                              │
│ Q: 提交后返回 500 错误？                                      │
│ A: 检查 RLS 策略是否配置，表是否创建                          │
│                                                              │
│ Q: 实时大厅不更新？                                           │
│ A: 确认 Realtime 已启用（Database > Replication）            │
│                                                              │
│ Q: 构建失败？                                                 │
│ A: 检查环境变量是否在 Vercel 中正确配置                       │
│                                                              │
└──────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────┐
│ 📊 数据库结构                                                 │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│ 表名: submissions                                            │
│                                                              │
│ 字段:                                                         │
│   • id (UUID)           - 主键                               │
│   • code (TEXT)         - 口令码                             │
│   • score (INTEGER)     - 分数 (650-800)                     │
│   • mode (TEXT)         - 模式 (solo/duo)                    │
│   • status (TEXT)       - 状态 (pending/matched/expired)     │
│   • matched_with (UUID[]) - 匹配的用户ID数组                 │
│   • created_at (TIMESTAMP) - 创建时间                        │
│   • expires_at (TIMESTAMP) - 过期时间 (1小时后)              │
│                                                              │
│ 索引:                                                         │
│   • idx_submissions_score       - 按分数查询                 │
│   • idx_submissions_status      - 按状态筛选                 │
│   • idx_submissions_mode        - 按模式筛选                 │
│   • idx_submissions_created_at  - 按时间排序                 │
│                                                              │
└──────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────┐
│ 🔒 安全检查清单                                               │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│ ✅ RLS 策略已配置（3个策略）                                  │
│ ✅ Service Role Key 仅在服务端使用                            │
│ ✅ 所有用户输入都经过验证                                     │
│ ✅ 使用参数化查询防止 SQL 注入                                │
│ ✅ HTTPS 自动启用（Vercel）                                   │
│ ✅ 不存储任何个人隐私信息                                     │
│                                                              │
└──────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────┐
│ 📞 获取帮助                                                   │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│ 📖 项目文档: 查看项目根目录的 .md 文件                        │
│ 🐙 GitHub: https://github.com/lgd3206/coufen2026             │
│ 📚 Supabase 文档: https://supabase.com/docs                  │
│ 📚 Next.js 文档: https://nextjs.org/docs                     │
│ 📚 Vercel 文档: https://vercel.com/docs                      │
│                                                              │
└──────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────┐
│ ✨ 下一步行动                                                 │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│ 🎯 立即开始:                                                  │
│                                                              │
│   1. 打开 PROJECT_SUMMARY.md 查看完整说明                    │
│   2. 选择一个部署方案（推荐方式1：直接部署）                  │
│   3. 按照步骤操作                                             │
│   4. 15-20分钟后网站上线！                                    │
│                                                              │
│ 💡 提示:                                                      │
│   • 先看 PROJECT_SUMMARY.md 了解全貌                         │
│   • 遇到问题查看对应的详细文档                                │
│   • 所有文档都在项目根目录                                    │
│                                                              │
└──────────────────────────────────────────────────────────────┘

╔══════════════════════════════════════════════════════════════╗
║                                                              ║
║  🎉 恭喜！你的芝麻分凑分网站已经完全开发完成！                 ║
║                                                              ║
║  下一步：配置 Supabase + 部署到 Vercel = 15分钟上线          ║
║                                                              ║
║  祝你部署顺利！🚀                                             ║
║                                                              ║
╚══════════════════════════════════════════════════════════════╝
